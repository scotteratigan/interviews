(this.webpackJsonpinterviews=this.webpackJsonpinterviews||[]).push([[0],{38:function(e){e.exports=JSON.parse('{"transportData":[{"name":"Car","unit":2,"max_distance":400,"speed":50},{"name":"Bus","unit":1,"max_distance":600,"speed":100},{"name":"Train","unit":1,"max_distance":800,"speed":200},{"name":"Plane","unit":2,"max_distance":1200,"speed":400}],"locationData":[{"city":"San Francisco","distance":200},{"city":"Sacramento","distance":400},{"city":"Sunnyvale","distance":600},{"city":"Mountain View","distance":800},{"city":"Santa Clara","distance":1000},{"city":"Cupertino","distance":1200}]}')},52:function(e,t,n){e.exports=n(68)},57:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=(n(57),n(15)),u=n(17),l=n.n(u),s=n(31),m=n(16),f=n(42),d=n.n(f),v=n(115),p=(n(66),n(106)),h=n(117),b=n(116),w=n(114);function E(e){var t=e.label,n=e.options,a=e.value,i=e.onChange;return r.a.createElement(v.a,{m:4},r.a.createElement(h.a,{htmlFor:t},t),r.a.createElement(w.a,{id:t,value:a,onChange:function(e){return i(e.target.value)}},n.map((function(e){return r.a.createElement(b.a,{key:e,value:e},e)}))))}function y(e){var t=e.locations,n=e.availableTransport,i=e.addInterview,o=e.location,c=e.setLocation,u=e.transport,l=e.setTransport,s=Object(a.useState)(0),f=Object(m.a)(s,2),d=f[0],h=f[1];function b(e){c(e),l(""),e&&function(e){var n=t.filter((function(t){return t.city===e}))[0].distance;h(n)}(e)}function w(e){return n.filter((function(t){var n=t.unit,a=t.max_distance;return!!n&&e<=a})).map((function(e){return e.name}))}return r.a.createElement(v.a,{m:3},r.a.createElement(E,{label:"Select interview location",options:t.map((function(e){return e.city})),value:o,onChange:function(e){return b(e)}}),!w(d).length&&r.a.createElement("div",null,"No valid transport available. Do you wish to re-plan your previous selections?"),o&&r.a.createElement(E,{label:"Select transport method",options:w(d),value:u,onChange:function(e){return l(e)}}),o&&u&&r.a.createElement(p.a,{type:"button",onClick:function(){i({location:o,transport:u})},variant:"contained",color:"primary"},"Confirm Interview"))}var O=n(107),j=n(109),g=n(113),x=n(112),S=n(108),T=n(110),k=n(111),C=n(105),I=Object(O.a)({table:{minWidth:650}});function _(e){var t=e.interviews,n=e.performInterview,a=e.cancelInterView,i=I();if(0===t.length)return null;var o=t.reduce((function(e,t){return{distance:e.distance+t.distance,travelHours:e.travelHours+t.travelHours}}),{distance:0,travelHours:0});return r.a.createElement("section",null,r.a.createElement("h2",null,"Scheduled Interviews"),r.a.createElement(S.a,{component:C.a},r.a.createElement(j.a,{className:i.table},r.a.createElement(T.a,null,r.a.createElement(k.a,null,r.a.createElement(x.a,null,"Location"),r.a.createElement(x.a,null,"Travel Method"),r.a.createElement(x.a,null,"Distance"),r.a.createElement(x.a,null,"Travel Time"),r.a.createElement(x.a,null))),r.a.createElement(g.a,null,t.map((function(e){var t=e.location,i=e.distance,o=e.transport,c=e.travelHours,u=e.interviewed;return r.a.createElement(k.a,{key:t},r.a.createElement(x.a,null,t),r.a.createElement(x.a,null,o),r.a.createElement(x.a,null,i," mi"),r.a.createElement(x.a,null,c," hours"),r.a.createElement(x.a,null,!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{type:"button",variant:"contained",color:"primary",onClick:function(){return n(t)}},"Interview"),r.a.createElement(p.a,{type:"button",variant:"contained",color:"primary",onClick:function(){return a(t)}},"Cancel Interview"))))})),r.a.createElement(k.a,null,r.a.createElement(x.a,null,"Total"),r.a.createElement(x.a,null),r.a.createElement(x.a,null,o.distance," mi"),r.a.createElement(x.a,null,o.travelHours," hours"))))))}var P=n(43),H=n.n(P);function D(e){var t=e.interviews;if(!t.length)return null;if(t.length<4||t.some((function(e){return!e.interviewed})))return null;var n=t.filter((function(e){return e.offeredJob}));return n.length?r.a.createElement(v.a,{m:4},r.a.createElement("h3",null,"Job Offer",n.length>1?"s":""),r.a.createElement("p",{style:{fontSize:"3rem"}},n.map((function(e){return e.location})).join(", ")),r.a.createElement(H.a,null)):r.a.createElement("h3",null,"No offers this round, better luck next time.")}var J=n(32),M=n(38),G=M.transportData,L=M.locationData,N=[];function F(e){var t=e.location,n=e.transport,a=L.find((function(e){return e.city===t}));if(!a)return{error:"Location not available",status:400,data:N};var r=G.find((function(e){return e.name===n}));if(!r||r.unit<1)return{error:"Transport option not available",status:400,data:N};if(N.length>=4)return{error:"Max number of interviews exceeded",status:400,data:N};var i=a.distance;if(i>r.max_distance)return{error:"Location not reachable by selected transport option",status:400,data:N};L=L.filter((function(e){return e.city!==t})),G=Object(c.a)(G).map((function(e){return e.name!==n?e:Object(J.a)({},e,{unit:e.unit-1})}));var o=i/r.speed;return N.push({location:t,distance:i,transport:n,travelHours:o,interviewed:!1,offeredJob:!1}),{status:200,data:N}}function V(e){var t=e.location,n=N.filter((function(e){return e.location!==t}));N=Object(c.a)(n),G.map((function(e){return e.name!==t?e:Object(J.a)({},e,{unit:e.unit+1})}));var a=M.locationData.find((function(e){return e.city===t})),r=Object(c.a)(L);return r.push(a),L=Object(c.a)(r),{status:200,data:N}}function A(e){var t=e.location,n=N.find((function(e){return e.location===t}));if(!n)return{error:"Interview was not scheduled",status:400,data:N};if(n.interviewed)return{error:"Already interviewed for this job",status:400,data:N};var a=Object(c.a)(N).map((function(e){return e!==n?e:Object(J.a)({},e,{interviewed:!0,offeredJob:Math.random()>.67})}));return N=a,{status:200,data:a}}function B(e){switch(e){case"/api/transportation":return G;case"/api/locations":return L;default:return{error:"Get route not found",status:404}}}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"/api/schedule_interview":return F(t);case"/api/cancel_interview":return V(t);case"/api/perform_interview":return A(t);default:return{error:"Post route not found",status:404}}}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:550,n=Math.floor(Math.random()*(t-e))+e;return n}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(J.a)({method:"GET"},t);return new Promise((function(t,a){setTimeout((function(){if("GET"===n.method){var r=B(e);return t(r)}if("POST"===n.method){var i=W(e,n.body);return t(i)}return a(new Error("Unknown route requested or server error."))}),q())}))}var U=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)([]),u=Object(m.a)(o,2),f=u[0],p=u[1],h=Object(a.useState)([]),b=Object(m.a)(h,2),w=b[0],E=b[1],O=Object(a.useState)([]),j=Object(m.a)(O,2),g=j[0],x=j[1],S=Object(a.useState)(""),T=Object(m.a)(S,2),k=T[0],C=T[1],I=Object(a.useState)(""),P=Object(m.a)(I,2),H=P[0],J=P[1],M=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[z("/api/transportation").then((function(e){return E(e)})),z("/api/locations").then((function(e){return x(e)}))],e.next=3,t;case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[]);var G=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),C(""),J(""),e.next=5,z("/api/schedule_interview",{method:"POST",body:t});case 5:n=e.sent,p(Object(c.a)(n.data)),M();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,z("/api/cancel_interview",{method:"POST",body:{location:t}});case 3:n=e.sent,p(Object(c.a)(n.data)),M();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,z("/api/perform_interview",{method:"POST",body:{location:t}});case 3:n=e.sent,p(Object(c.a)(n.data)),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"App",m:1,maxWidth:680,display:"flex"},r.a.createElement(v.a,{component:"section",m:2},r.a.createElement("h1",null,"Interviews Planner"),f.length<4&&r.a.createElement(v.a,{m:3},r.a.createElement("p",null,"Great work lining up 6 interviews! However, you only have the time to attend 4 interviews. Please plan your interviews below. After you interview at all 4 locations, you will receive the results. Good luck.")),r.a.createElement(d.a,{loaded:!n},f.length<4&&r.a.createElement(y,{locations:g,availableTransport:w,addInterview:G,location:k,setLocation:C,transport:H,setTransport:J})),r.a.createElement(_,{interviews:f,performInterview:N,cancelInterView:L}),r.a.createElement(D,{interviews:f}))),r.a.createElement("div",{style:{flexShrink:0}},r.a.createElement("p",null,"View"," ",r.a.createElement("a",{href:"https://github.com/scotteratigan/interviews"},"Source Code"))))};o.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.10fe779d.chunk.js.map