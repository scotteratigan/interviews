{"version":3,"sources":["SelectFromList.jsx","InterviewSelections.jsx","Interviews.jsx","OfferSummary.jsx","api/jsonFetch.js","App.jsx","index.js"],"names":["SelectFromList","props","label","options","value","onChange","Box","m","InputLabel","htmlFor","Select","id","e","target","map","option","MenuItem","key","SelectInterview","distance","locations","availableTransport","addInterview","location","setLocation","transport","setTransport","useState","locationDistance","setLocationDistance","handleLocationSelect","val","filter","city","calculateDistance","v","unit","max_distance","name","Button","type","onClick","variant","color","useStyles","makeStyles","table","minWidth","Interviews","interviews","performInterview","classes","length","totals","reduce","total","current","travelHours","TableContainer","component","Paper","Table","className","TableHead","TableRow","TableCell","TableBody","interviewed","OfferSummary","some","jobOffers","interview","offeredJob","style","fontSize","offer","join","transportData","data","locationData","scheduleInterview","locationObj","find","error","status","transportObj","transportOption","speed","push","requestedInterview","updatedInterviews","Math","random","getRouter","route","postRouter","body","randomNetworkDelay","min","max","delayMS","floor","jsonFetch","fetchOptions","method","Promise","resolve","reject","setTimeout","returnData","Error","App","loading","setLoading","setInterviews","setTransportData","setLocationData","fetchCurrentData","a","initialDataFetches","then","res","useEffect","newInterview","interviewLocation","maxWidth","display","loaded","flexShrink","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.914e11a4.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Box from '@material-ui/core/Box';\n\nexport default function SelectFromList(props) {\n  const { label, options, value, onChange } = props;\n  return (\n    <Box m={4}>\n      <InputLabel htmlFor={label}>{label}</InputLabel>\n      <Select\n        id={label}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n      >\n        {options.map((option) => (\n          <MenuItem key={option} value={option}>\n            {option}\n          </MenuItem>\n        ))}\n      </Select>\n    </Box>\n  );\n}\n\nSelectFromList.propTypes = {\n  label: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.string).isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n","/* eslint-disable camelcase */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport SelectFromList from './SelectFromList';\n\nexport default function SelectInterview({\n  locations,\n  availableTransport,\n  addInterview,\n  location,\n  setLocation,\n  transport,\n  setTransport,\n}) {\n  const [locationDistance, setLocationDistance] = useState(0);\n\n  function calculateDistance(val) {\n    const selectedLocation = locations.filter(({ city }) => city === val);\n    const { distance } = selectedLocation[0];\n    setLocationDistance(distance);\n  }\n\n  function handleLocationSelect(val) {\n    // when user selects a location, clear transport option to prevent invalid\n    setLocation(val);\n    setTransport('');\n    if (val) calculateDistance(val);\n  }\n\n  function filterTransport(distance) {\n    // returns array of transport options (name strings)\n    // filters out options which have no units left, or whose max_distance is insufficient\n    return availableTransport\n      .filter(({ unit, max_distance }) => {\n        if (!unit) return false;\n        return distance <= max_distance;\n      })\n      .map(({ name }) => name);\n  }\n\n  function submitInterview() {\n    addInterview({\n      location,\n      transport,\n    });\n  }\n\n  return (\n    <Box m={3}>\n      <SelectFromList\n        label=\"Select interview location\"\n        options={locations.map(({ city }) => city)}\n        value={location}\n        onChange={(v) => handleLocationSelect(v)}\n      />\n      {location && (\n        <SelectFromList\n          label=\"Select transport method\"\n          options={filterTransport(locationDistance)}\n          value={transport}\n          onChange={(v) => setTransport(v)}\n        />\n      )}\n      {location && transport && (\n        <Button\n          type=\"button\"\n          onClick={submitInterview}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Confirm Interview\n        </Button>\n      )}\n    </Box>\n  );\n}\n\nSelectInterview.propTypes = {\n  locations: PropTypes.arrayOf(PropTypes.object).isRequired,\n  availableTransport: PropTypes.arrayOf(PropTypes.object).isRequired,\n  addInterview: PropTypes.func.isRequired,\n  location: PropTypes.string.isRequired, // currently selected location\n  setLocation: PropTypes.func.isRequired,\n  transport: PropTypes.string.isRequired, // currently selected transportation name (car)\n  setTransport: PropTypes.func.isRequired,\n};\n","/* eslint-disable react/jsx-one-expression-per-line */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport default function Interviews({ interviews, performInterview }) {\n  const classes = useStyles();\n  if (interviews.length === 0) {\n    return null;\n  }\n  const totals = interviews.reduce(\n    (total, current) => ({\n      distance: total.distance + current.distance,\n      travelHours: total.travelHours + current.travelHours,\n    }),\n    { distance: 0, travelHours: 0 },\n  );\n\n  return (\n    <section>\n      <h2>Scheduled Interviews</h2>\n      <TableContainer component={Paper}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Location</TableCell>\n              <TableCell>Travel Method</TableCell>\n              <TableCell>Distance</TableCell>\n              <TableCell>Travel Time</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {interviews.map(\n              ({\n                location,\n                distance,\n                transport,\n                travelHours,\n                interviewed,\n                // offeredJob,\n              }) => (\n                <TableRow key={location}>\n                  <TableCell>{location}</TableCell>\n                  <TableCell>{transport}</TableCell>\n                  <TableCell>{distance} mi</TableCell>\n                  <TableCell>{travelHours} hours</TableCell>\n                  <TableCell>\n                    {!interviewed && (\n                      <Button\n                        type=\"button\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => performInterview(location)}\n                      >\n                        Interview\n                      </Button>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ),\n            )}\n            <TableRow>\n              <TableCell>Total</TableCell>\n              <TableCell />\n              <TableCell>{totals.distance} mi</TableCell>\n              <TableCell>{totals.travelHours} hours</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </section>\n  );\n}\n\nInterviews.propTypes = {\n  interviews: PropTypes.arrayOf(PropTypes.object).isRequired,\n  performInterview: PropTypes.func.isRequired,\n};\n","/* eslint-disable operator-linebreak */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport Confetti from 'react-confetti';\n\nconst MAX_INTERVIEWS = 4;\n\nexport default function OfferSummary({ interviews }) {\n  if (!interviews.length) {\n    return null;\n  }\n  const interviewsRemain =\n    interviews.length < MAX_INTERVIEWS ||\n    interviews.some(({ interviewed }) => !interviewed);\n  if (interviewsRemain) return null;\n  const jobOffers = interviews.filter((interview) => interview.offeredJob);\n  if (jobOffers.length) {\n    return (\n      <Box m={4}>\n        <h3>\n          Job Offer\n          {jobOffers.length > 1 ? 's' : ''}\n        </h3>\n        <p style={{ fontSize: '3rem' }}>\n          {jobOffers.map((offer) => offer.location).join(', ')}\n        </p>\n        <Confetti />\n      </Box>\n    );\n  }\n  return <h3>No offers this round, better luck next time.</h3>;\n}\n\nOfferSummary.propTypes = {\n  interviews: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","// To mock API responses, all calls will be made here instead.\n// Could be kept as a fetch middleware to return straight JSON also.\n\nimport data from '../data.json';\n// max_distance is in miles\n// speed is in miles per hour\n\nconst MAX_INTERVIEWS = 4;\nconst MIN_SCORE_TO_LAND_JOB = 0.67;\n\nlet { transportData } = data;\nlet { locationData } = data;\nlet interviews = [];\n\nfunction scheduleInterview({ location, transport }) {\n  // mutates all arrays: transportData, locationData, and interviews\n  // Ensure location is still available:\n  const locationObj = locationData.find((option) => option.city === location);\n  if (!locationObj) {\n    return {\n      error: 'Location not available',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  // Ensure we haven't used up transport option:\n  const transportObj = transportData.find(\n    (option) => option.name === transport,\n  );\n  if (!transportObj || transportObj.unit < 1) {\n    return {\n      error: 'Transport option not available',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  // Ensure we haven't scheduled the max number of interviews yet:\n  if (interviews.length >= MAX_INTERVIEWS) {\n    return {\n      error: 'Max number of interviews exceeded',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  // Ensure location doesn't exceed limit of transport method:\n  const { distance } = locationObj;\n  const { max_distance: maxDistance } = transportObj;\n  if (distance > maxDistance) {\n    return {\n      error: 'Location not reachable by selected transport option',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  // remove location from array:\n  locationData = locationData.filter((option) => option.city !== location);\n\n  // update units for transport:\n  transportData = [...transportData]\n    .map((transportOption) => {\n      if (transportOption.name !== transport) return transportOption;\n      return { ...transportOption, unit: transportOption.unit - 1 };\n    })\n    .filter((option) => option.unit > 0);\n\n  // update interview list:\n  const { speed } = transportObj;\n  const travelHours = distance / speed;\n  interviews.push({\n    location,\n    distance,\n    transport,\n    travelHours,\n    interviewed: false,\n    offeredJob: false,\n  });\n  return {\n    status: 200,\n    data: interviews,\n  };\n}\n\nfunction checkForJobOffer() {\n  return Math.random() > MIN_SCORE_TO_LAND_JOB;\n}\n\nfunction performInterview({ location }) {\n  // Ensure interview is scheduled;\n  const requestedInterview = interviews.find(\n    (option) => option.location === location,\n  );\n  if (!requestedInterview) {\n    return {\n      error: 'Interview was not scheduled',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  if (requestedInterview.interviewed) {\n    return {\n      error: 'Already interviewed for this job',\n      status: 400,\n      data: interviews,\n    };\n  }\n\n  const updatedInterviews = [...interviews].map((interview) => {\n    if (interview !== requestedInterview) return interview;\n    return { ...interview, interviewed: true, offeredJob: checkForJobOffer() };\n  });\n\n  interviews = updatedInterviews;\n  return {\n    status: 200,\n    data: updatedInterviews,\n  };\n}\n\nfunction getRouter(route) {\n  switch (route) {\n    case '/api/transportation':\n      return transportData;\n    case '/api/locations':\n      return locationData;\n    default:\n      return {\n        error: 'Get route not found',\n        status: 404,\n      };\n  }\n}\n\nfunction postRouter(route, body = {}) {\n  switch (route) {\n    case '/api/schedule_interview':\n      return scheduleInterview(body);\n    case '/api/perform_interview':\n      return performInterview(body);\n    default:\n      return {\n        error: 'Post route not found',\n        status: 404,\n      };\n  }\n}\n\nfunction randomNetworkDelay(min = 350, max = 550) {\n  // To simulate a network delay\n  const delayMS = Math.floor(Math.random() * (max - min)) + min;\n  return delayMS;\n}\n\nexport default function jsonFetch(route, fetchOptions = {}) {\n  const options = {\n    // set up defaults, then spread in user-passed config\n    method: 'GET',\n    ...fetchOptions,\n  };\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (options.method === 'GET') {\n        const returnData = getRouter(route);\n        return resolve(returnData);\n      }\n      if (options.method === 'POST') {\n        const returnData = postRouter(route, options.body);\n        return resolve(returnData);\n      }\n      return reject(new Error('Unknown route requested or server error.'));\n    }, randomNetworkDelay());\n  });\n}\n","/* eslint-disable operator-linebreak */\n/* eslint-disable react/jsx-one-expression-per-line */\nimport React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader';\nimport Box from '@material-ui/core/Box';\nimport './App.css';\nimport InterviewSelections from './InterviewSelections';\nimport Interviews from './Interviews';\nimport OfferSummary from './OfferSummary';\nimport jsonFetch from './api/jsonFetch';\n\nconst MAX_INTERVIEWS = 4;\n\nfunction App() {\n  const [loading, setLoading] = useState(false);\n  const [interviews, setInterviews] = useState([]);\n  const [transportData, setTransportData] = useState([]);\n  const [locationData, setLocationData] = useState([]);\n  const [location, setLocation] = useState('');\n  const [transport, setTransport] = useState('');\n\n  const fetchCurrentData = async () => {\n    const initialDataFetches = [\n      jsonFetch('/api/transportation').then((res) => setTransportData(res)),\n      jsonFetch('/api/locations').then((res) => setLocationData(res)),\n    ];\n    await initialDataFetches;\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchCurrentData();\n  }, []);\n\n  const addInterview = async (newInterview) => {\n    setLoading(true);\n    setLocation('');\n    setTransport('');\n    const res = await jsonFetch('/api/schedule_interview', {\n      method: 'POST',\n      body: newInterview,\n    });\n    setInterviews([...res.data]);\n    fetchCurrentData();\n  };\n\n  const performInterview = async (interviewLocation) => {\n    setLoading(true);\n    const res = await jsonFetch('/api/perform_interview', {\n      method: 'POST',\n      body: { location: interviewLocation },\n    });\n    setInterviews([...res.data]);\n    setLoading(false);\n  };\n\n  return (\n    <>\n      <Box className=\"App\" m={1} maxWidth={680} display=\"flex\">\n        <Box component=\"section\" m={2}>\n          <h1>Interviews Planner</h1>\n          {interviews.length < MAX_INTERVIEWS && (\n            <Box m={3}>\n              <p>\n                Great work lining up 6 interviews! However, you only have the\n                time to attend 4 interviews. Please plan your interviews below.\n                After you interview at all 4 locations, you will receive the\n                results. Good luck.\n              </p>\n            </Box>\n          )}\n          <Loader loaded={!loading}>\n            {interviews.length < MAX_INTERVIEWS && (\n              <InterviewSelections\n                locations={locationData}\n                availableTransport={transportData}\n                addInterview={addInterview}\n                location={location}\n                setLocation={setLocation}\n                transport={transport}\n                setTransport={setTransport}\n              />\n            )}\n          </Loader>\n          <Interviews\n            interviews={interviews}\n            performInterview={performInterview}\n          />\n          <OfferSummary interviews={interviews} />\n        </Box>\n      </Box>\n      <div style={{ flexShrink: 0 }}>\n        <p>\n          View{' '}\n          <a href=\"https://github.com/scotteratigan/interviews\">Source Code</a>\n        </p>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}