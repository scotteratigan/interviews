(this.webpackJsonpinterviews=this.webpackJsonpinterviews||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"transportData":[{"name":"Car","unit":2,"max_distance":400,"speed":50},{"name":"Bus","unit":1,"max_distance":600,"speed":100},{"name":"Train","unit":1,"max_distance":800,"speed":200},{"name":"Plane","unit":2,"max_distance":1200,"speed":400}],"locationData":[{"city":"San Francisco","distance":200},{"city":"Sacramento","distance":400},{"city":"Sunnyvale","distance":600},{"city":"Mountain View","distance":800},{"city":"Santa Clara","distance":1000},{"city":"Cupertino","distance":1200}]}')},52:function(e,t,n){e.exports=n(68)},57:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=(n(57),n(28)),u=n(24),l=n.n(u),s=n(36),m=n(15),f=n(42),d=n.n(f),v=n(115),p=(n(66),n(106)),h=n(117),E=n(116),b=n(114);function w(e){var t=e.label,n=e.options,a=e.value,i=e.onChange;return r.a.createElement(v.a,{m:4},r.a.createElement(h.a,{htmlFor:t},t),r.a.createElement(b.a,{id:t,value:a,onChange:function(e){return i(e.target.value)}},n.map((function(e){return r.a.createElement(E.a,{key:e,value:e},e)}))))}function y(e){var t,n=e.locations,i=e.availableTransport,o=e.addInterview,c=e.location,u=e.setLocation,l=e.transport,s=e.setTransport,f=Object(a.useState)(0),d=Object(m.a)(f,2),h=d[0],E=d[1];function b(e){u(e),s(""),e&&function(e){var t=n.filter((function(t){return t.city===e}))[0].distance;E(t)}(e)}return r.a.createElement(v.a,{m:3},r.a.createElement(w,{label:"Select interview location",options:n.map((function(e){return e.city})),value:c,onChange:function(e){return b(e)}}),c&&r.a.createElement(w,{label:"Select transport method",options:(t=h,i.filter((function(e){var n=e.unit,a=e.max_distance;return!!n&&t<=a})).map((function(e){return e.name}))),value:l,onChange:function(e){return s(e)}}),c&&l&&r.a.createElement(p.a,{type:"button",onClick:function(){o({location:c,transport:l})},variant:"contained",color:"primary"},"Confirm Interview"))}var O=n(107),j=n(109),g=n(113),S=n(112),x=n(108),T=n(110),k=n(111),C=n(105),I=Object(O.a)({table:{minWidth:650}});function _(e){var t=e.interviews,n=e.performInterview,a=I();if(0===t.length)return null;var i=t.reduce((function(e,t){return{distance:e.distance+t.distance,travelHours:e.travelHours+t.travelHours}}),{distance:0,travelHours:0});return r.a.createElement("section",null,r.a.createElement("h2",null,"Scheduled Interviews"),r.a.createElement(x.a,{component:C.a},r.a.createElement(j.a,{className:a.table},r.a.createElement(T.a,null,r.a.createElement(k.a,null,r.a.createElement(S.a,null,"Location"),r.a.createElement(S.a,null,"Travel Method"),r.a.createElement(S.a,null,"Distance"),r.a.createElement(S.a,null,"Travel Time"),r.a.createElement(S.a,null))),r.a.createElement(g.a,null,t.map((function(e){var t=e.location,a=e.distance,i=e.transport,o=e.travelHours,c=e.interviewed;return r.a.createElement(k.a,{key:t},r.a.createElement(S.a,null,t),r.a.createElement(S.a,null,i),r.a.createElement(S.a,null,a," mi"),r.a.createElement(S.a,null,o," hours"),r.a.createElement(S.a,null,!c&&r.a.createElement(p.a,{type:"button",variant:"contained",color:"primary",onClick:function(){return n(t)}},"Interview")))})),r.a.createElement(k.a,null,r.a.createElement(S.a,null,"Total"),r.a.createElement(S.a,null),r.a.createElement(S.a,null,i.distance," mi"),r.a.createElement(S.a,null,i.travelHours," hours"))))))}var H=n(43),P=n.n(H);function J(e){var t=e.interviews;if(!t.length)return null;if(t.length<4||t.some((function(e){return!e.interviewed})))return null;var n=t.filter((function(e){return e.offeredJob}));return n.length?r.a.createElement(v.a,{m:4},r.a.createElement("h3",null,"Job Offer",n.length>1?"s":""),r.a.createElement("p",{style:{fontSize:"3rem"}},n.map((function(e){return e.location})).join(", ")),r.a.createElement(P.a,null)):r.a.createElement("h3",null,"No offers this round, better luck next time.")}var M=n(37),D=n(40),G=D.transportData,L=D.locationData,N=[];function A(e){var t=e.location,n=e.transport,a=L.find((function(e){return e.city===t}));if(!a)return{error:"Location not available",status:400,data:N};var r=G.find((function(e){return e.name===n}));if(!r||r.unit<1)return{error:"Transport option not available",status:400,data:N};if(N.length>=4)return{error:"Max number of interviews exceeded",status:400,data:N};var i=a.distance;if(i>r.max_distance)return{error:"Location not reachable by selected transport option",status:400,data:N};L=L.filter((function(e){return e.city!==t})),G=Object(c.a)(G).map((function(e){return e.name!==n?e:Object(M.a)({},e,{unit:e.unit-1})})).filter((function(e){return e.unit>0}));var o=i/r.speed;return N.push({location:t,distance:i,transport:n,travelHours:o,interviewed:!1,offeredJob:!1}),{status:200,data:N}}function F(e){var t=e.location,n=N.find((function(e){return e.location===t}));if(!n)return{error:"Interview was not scheduled",status:400,data:N};if(n.interviewed)return{error:"Already interviewed for this job",status:400,data:N};var a=Object(c.a)(N).map((function(e){return e!==n?e:Object(M.a)({},e,{interviewed:!0,offeredJob:Math.random()>.67})}));return N=a,{status:200,data:a}}function B(e){switch(e){case"/api/transportation":return G;case"/api/locations":return L;default:return{error:"Get route not found",status:404}}}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"/api/schedule_interview":return A(t);case"/api/perform_interview":return F(t);default:return{error:"Post route not found",status:404}}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:550,n=Math.floor(Math.random()*(t-e))+e;return n}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(M.a)({method:"GET"},t);return new Promise((function(t,a){setTimeout((function(){if("GET"===n.method){var r=B(e);return t(r)}if("POST"===n.method){var i=V(e,n.body);return t(i)}return a(new Error("Unknown route requested or server error."))}),W())}))}var z=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)([]),u=Object(m.a)(o,2),f=u[0],p=u[1],h=Object(a.useState)([]),E=Object(m.a)(h,2),b=E[0],w=E[1],O=Object(a.useState)([]),j=Object(m.a)(O,2),g=j[0],S=j[1],x=Object(a.useState)(""),T=Object(m.a)(x,2),k=T[0],C=T[1],I=Object(a.useState)(""),H=Object(m.a)(I,2),P=H[0],M=H[1],D=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[q("/api/transportation").then((function(e){return w(e)})),q("/api/locations").then((function(e){return S(e)}))],e.next=3,t;case 3:i(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){D()}),[]);var G=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),C(""),M(""),e.next=5,q("/api/schedule_interview",{method:"POST",body:t});case 5:n=e.sent,p(Object(c.a)(n.data)),D();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,q("/api/perform_interview",{method:"POST",body:{location:t}});case 3:n=e.sent,p(Object(c.a)(n.data)),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"App",m:1,maxWidth:680,display:"flex"},r.a.createElement(v.a,{component:"section",m:2},r.a.createElement("h1",null,"Interviews Planner"),f.length<4&&r.a.createElement(v.a,{m:3},r.a.createElement("p",null,"Great work lining up 6 interviews! However, you only have the time to attend 4 interviews. Please plan your interviews below. After you interview at all 4 locations, you will receive the results. Good luck.")),r.a.createElement(d.a,{loaded:!n},f.length<4&&r.a.createElement(y,{locations:g,availableTransport:b,addInterview:G,location:k,setLocation:C,transport:P,setTransport:M})),r.a.createElement(_,{interviews:f,performInterview:L}),r.a.createElement(J,{interviews:f}))),r.a.createElement("div",{style:{flexShrink:0}},r.a.createElement("p",null,"View"," ",r.a.createElement("a",{href:"https://github.com/scotteratigan/interviews"},"Source Code"))))};o.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.914e11a4.chunk.js.map